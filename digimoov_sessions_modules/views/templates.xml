<odoo>
    <template id="digimoov_website_sale_cart_lines" inherit_id="website_sale.cart_lines">
        <xpath expr="//table[@id='cart_products']" position="after">
            <script src="/digimoov_sessions_modules/static/src/js/dig_shopping-cart-1.js"></script>
            <style>
                #pm_shop_check {
                visibility: hidden;
                }
                .input-pole-emploie{
                    display: unset;
                    padding: 21px 10px;;
                    color: black;
                }
                input::placeholder {
                    font-weight: bold;
                    opacity: 0.5;
                    color: #495057;
                }
            </style>
            <div style="margin: auto; background-color: #fff; border-color: #585959" t-if="request.website.is_public_user()==False and modules_digimoov" id="centre_date_examen">
                <!-- Demandeur d'emploi-->
                <section t-if="modules_digimoov and not from_habilitation_electrique" id="Section-demandeurd'emploi">

               
                <div class="row align-baseline" style="place-items: baseline;">
                    <div class="col-4">
                        <h3  class="" style="margin-top: 1rem; font-weight: 600; font-size:19px">
                            Demandeur d'emploi ? 
                        </h3>
                       
                    </div>
                 
                   
                    <div class="col-8">
                        <input type="radio" id="radio1" name="radio-demandeur-emploi" value="oui" onclick="handleClickDemandeurEmploi(this)" />
                        <label style="margin-right: 14px;" for="radio1" value="non" ><strong>Oui</strong></label>
                            
                        <input type="radio" id="radio2" name="radio-demandeur-emploi" value="non" onclick="handleClickDemandeurEmploi(this)" />
                        <label for="radio2"><strong>Non</strong></label>
                    </div>
                    <div style="    max-width: 600px;
                    width: 100%;">
                    <p id="error_choix_demandeur_emploi" class="alert alert-warning" style="    
                    display:none;  margin-top: 10px; margin-left: 2%; max-width: 600px;">
                        Vous devez répondre à la question.
                    </p>
                    </div>
                    
                </div>
                <div>
                    <input class="form-control search-slt input-pole-emploie digimoov" style="display:" id="input-pole-emploie" placeholder="Saisir votre numéro Pôle emploi"/>
                   
                    <div class="alert alert-warning" style="display:none;  margin-top: 10px; margin-left: 0%; max-width: 600px;" id="num_emploi_helper">
                        <span>Veuillez vérifier votre numéro d'emploi. Il doit contenir de 8 à 12 caractères</span>
                    </div>
                </div>
          
                <div>
                    <p id="error_numero_demandeur_emploi" class="alert alert-warning" style=" display:none;  margin-top: 10px; margin-left: 0%; max-width: 600px;">
                        Vous devez saisir votre numero d'emploi
                    </p>
                </div>
                 </section>
                <!-- -->
                <h3 t-if="modules_digimoov and not from_habilitation_electrique" class="" style="margin-top: 1rem; font-weight: 600; font-size:19px">
                    Sélectionnez votre ville d'examen
                </h3>
                <h3 t-if="modules_digimoov and from_habilitation_electrique" class="" style="margin-top: 1rem; font-weight: 600; font-size:19px">
                    Veuillez sélectionner votre ville et période de formation
                </h3>
                <p t-if="modules_digimoov">
                    <b>
                        <div style="margin-left: 0%" id="exam_center">
                            <select   name="centre_examen" id="centre_examen" class="form-control search-slt" style="font-weight:600" data-tour="step: 1; title: Ville d'examen; content: Vous commencez par choisir votre ville d'examen">
                               <b>
                                <option value="all" id="all" disabled="disabled" selected="selected" hidden="hidden" >Cliquez ici 
                                </option>
                               </b>
                                <t t-foreach="list_villes" t-as="ville" t-if="not from_habilitation_electrique">
                                    <t t-if="ville">
                                        <b>
                                            <option t-att-value="ville.name_ville">
                                                <t t-esc="ville.name_ville" />
                                            </option>
                                        </b>
                                    </t>
                                </t>
                                <t t-foreach="list_villes_habilitation_electrique" t-as="ville" t-if="from_habilitation_electrique">
                                    <t t-if="ville">
                                        <b>
                                            <option t-att-value="ville.name_ville">
                                                <t t-esc="ville.name_ville" />
                                            </option>
                                        </b>
                                    </t>
                                </t>
                            </select>
                                <select t-if="modules_digimoov and from_habilitation_electrique" name="centre_examen" id="centre_examen" class="form-control search-slt"  data-tour="step: 1; title: Ville d'examen; content: Vous commencez par choisir votre ville ">

                                <option value="all" id="all" disabled="disabled" selected="selected" hidden="hidden">Cliquez ici 
                                </option>
                                <t t-foreach="list_villes" t-as="ville" t-if="not from_habilitation_electrique">
                                    <t t-if="ville">
                                        <b>
                                            <option t-att-value="ville.name_ville">
                                                <t t-esc="ville.name_ville" />
                                            </option>
                                        </b>
                                    </t>
                                </t>
                                <t t-foreach="list_villes_habilitation_electrique" t-as="ville" t-if="from_habilitation_electrique">
                                    <t t-if="ville">
                                        <b>
                                            <option t-att-value="ville.name_ville">
                                                <t t-esc="ville.name_ville" />
                                            </option>
                                        </b>
                                    </t>
                                </t>
                            </select>
                        </div>
                    </b>
                    <p id="error_choix_centre_examen" class="alert alert-warning" style="margin-top:10px; margin-left:0%; display:none; max-width:600px;">
                        Vous devez sélectionner votre ville d'examen
                    </p>
                </p>


                <p t-if="modules_digimoov">
                    <h3 class="" style="margin-top: 1rem; font-weight: 600;;font-size:18px" t-if="not from_habilitation_electrique">
                        Sélectionnez votre date d'examen
                    </h3>
                    <h3 class="" style="margin-top: 1rem; font-weight: 600;;font-size:18px" t-if="from_habilitation_electrique">
                        Sélectionnez votre date d'examen
                    </h3>
                    <div style="margin-left: 0%; display:none ">
                        <select id="exam_date" class="form-control search-slt" t-if="modules_digimoov">
                            <option value="all" id="all" disabled="disabled" selected="selected" hidden="hidden">Cliquez ici 
                            </option>
                            <t t-foreach="modules_digimoov" t-as="module">
                                <t t-if="module">
                                    <t t-if="module.session_id.website_published==True">
                                        <b>
                                            <option t-att-value="module.session_ville_id.name_ville" t-att-id="module.id" style="text-transform: capitalize;" t-att-title="module.date_exam.strftime('%m/%d/%Y')">
                                                <t t-if="not from_habilitation_electrique" t-esc="module.date_exam.strftime('%d %B %Y')" />
                                                <t t-if="from_habilitation_electrique" t-esc="module.date_exam.strftime('%B %Y')" />
                                            </option>
                                        </b>
                                    </t>
                                </t>
                            </t>
                        </select>

                    </div>
                    <b>
                        <input type="hidden" value="false" id="habilitation" t-if="not from_habilitation_electrique" />
                        <input type="hidden" value="true" id="habilitation" t-if="from_habilitation_electrique" />
                        
                    </b>
                    <h3 t-if="modules_mcm" class="" style="margin-top: 1rem; font-weight: 600;;font-size:18px" >
                        Sélectionnez votre date d'examen
                    </h3>
                    <div id="select-date" style="margin-left: 0%">
                            
                        <select name="date_examen" id="options-date" class="form-control search-slt " style="font-size: 15px; font-weight: 600;"  data-tour="step: 3; title: Date d'examen ; content: Maintenant, choisissez votre date d'examen.">
                            <option value="all" disabled="disabled" selected="selected" hidden="hidden" id="all">
                                Cliquez ici 
                            </option>
                            
                        </select>
                    </div>

                    <p id="error_choix_date" class="alert alert-warning" style="margin-top:10px;margin-left:0%;display:none;max-width:600px">
                                Vous devez sélectionner votre date d'examen
                    </p>
                    <p id="error_choix_date_4" class="alert alert-warning" style="margin-top:10px;margin-left:0%;display:none;">
                        Malheureusement vous ne pouvez pas réserver cette date d'examen pour le moment car vous ne pouvez pas dépasser 4 mois entre la date d'inscription à la formation et le passage du premier examen.
                        La date d'examen choisie sera disponible à partir du
                        <span id="available-date"></span>
                        .
                        <br />
                        Vous avez toujours la possibilité de réserver la première date.
                    </p>


                </p>

                <!-- state from backend-->

                <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
                <input id="state" type="hidden" t-att-value="state" />

            </div>
        </xpath>
        <!--        <xpath expr="//ol" position="replace">-->
        <!--            <ol class="breadcrumb">-->
        <!--&lt;!&ndash;                <li class="breadcrumb-item">&ndash;&gt;-->
        <!--&lt;!&ndash;                    <a t-att-href="keep(category=0)">Produits</a>&ndash;&gt;-->
        <!--&lt;!&ndash;                </li>&ndash;&gt;-->
        <!--&lt;!&ndash;                <li t-if="category" class="breadcrumb-item">&ndash;&gt;-->
        <!--&lt;!&ndash;                    <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)" t-field="category.name"/>&ndash;&gt;-->
        <!--&lt;!&ndash;                </li>&ndash;&gt;-->
        <!--                <li class="breadcrumb-item active">-->
        <!--                    <span t-field="product.name"/>-->
        <!--                </li>-->
        <!--            </ol>-->
        <!--        </xpath>-->
    </template>

    <template id="digimoov_website_sale_cart_script" inherit_id="website_sale.cart">
        <xpath expr="//div[@id='wrap']" position="after">
            <!-- JS assets at the end of code-->
          <script  type="text/javascript" src="/mcm_website_theme/static/src/js/tourguide.min.js" ></script>
          <script>
              var tourguide = new Tourguide({
   
                
                
                });
          </script>
           <!-- JS assets at the end of code-->
      </xpath>
        <xpath expr="//div[@id='wrap']" position="before">
            <t t-set="head">
                <meta name="robots" content="noindex" />
            </t>
        </xpath>
        <xpath expr="//a[@class='btn btn-primary float-right']" position="replace">
            <button role="button" t-if="website_sale_order and website_sale_order.website_order_line" class="btn btn-shop float-right disabled" id="pm_shop_checkout2" onclick="showPopup()" data-tour="step: 4; title: Payement; content: Vous pouvez maintenant procéder au paiement en cliquant sur le bouton Je paye maintenant !">
                <span id="pm_shop_checkout_text">Je paye maintenant !</span>
            </button>
            <div t-if="request.website.id==2">
                <script></script>

            </div>

        </xpath>
        <xpath expr="//a[@class='btn btn-primary float-right d-none d-xl-inline-block']" position="replace">
            <a role="button" t-if="website_sale_order and website_sale_order.website_order_line" class="btn btn-shop float-right disabled" href="" id="pm_shop_check">
                <span id="pm_shop_check_text">Je paye maintenant !</span>
                <span class="fa fa-chevron-right" />
            </a>
        </xpath>
        <xpath expr="//a[@href='/shop'][1]" position="replace">
            <a role="button" href="/shop" class="btn btn-secondary mb32 d-none d-xl-inline-block" style="display: none !important">
                <span class="fa fa-chevron-left" />
                <span class="">Continuer Vos achat</span>
            </a>
        </xpath>
        <xpath expr="//div[@class='d-xl-none mt8']//a[1]" position="replace"></xpath>
        <xpath expr="//div[@class='col-12 col-xl-8 oe_cart']" position="inside">
            <script></script>
        </xpath>
    </template>

    
</odoo>
<?xml version="1.0" encoding="utf-8" ?>

<odoo>
    <record model="ir.actions.act_window" id="session_app_graph">
        <field name="name">Session</field>
        <field name="res_model">session.statistics</field>
        <field name="view_mode">graph</field>
        <field name="view_id" ref="session_app_graph_view"/>
    </record>

    <!--My Dashboard-->
    <record model="ir.ui.view" id="session_dashbord_id">
        <field name="name">Dashboard</field>
        <field name="model">board.board</field>
        <field name="arch" type="xml">
            <form string="Dashboard">
                <board style="1-2">
                    <field name=""/>
                    <column>
                        <action context="{'lang': 'fr_FR', 'tz': 'Europe/Paris', 'uid': 2, 'params': {'action': 1271, 'cids': 2, 'menu_id': 508, 'model': 'info.examen', 'view_type': 'graph'}, 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['session_id', 'resultat', 'presence', 'nombre_de_passage', 'mode_de_financement'], 'timeRangeMenuData': {'comparisonField': 'date_exam', 'timeRange': ['&amp;', ['date_exam', '&gt;=', '2023-01-01'], ['date_exam', '&lt;', '2023-04-01']], 'timeRangeDescription': 'Ce trimestre', 'comparisonTimeRange': []}, 'group_by': ['session_id', 'resultat', 'presence', 'nombre_de_passage', 'mode_de_financement'], 'dashboard_merge_domains_contexts': False}"
                                domain="[]" name="1271" string="Résultat, Présent, Nombre passage et Financement  "
                                view_mode="graph" modifiers="{}"/>
                        <action context="{'lang': 'fr_FR', 'tz': 'Europe/Paris', 'uid': 2, 'timeRangeMenuData': {'comparisonField': 'date_exam', 'timeRange': ['&amp;', ['date_exam', '&gt;=', '2023-01-17'], ['date_exam', '&lt;', '2023-02-16']], 'timeRangeDescription': 'Les 30 derniers jours', 'comparisonTimeRange': []}, 'group_by': ['session_id', 'module_id'], 'graph_measure': 'epreuve_a', 'graph_mode': 'bar', 'graph_groupbys': ['session_id', 'module_id'], 'dashboard_merge_domains_contexts': False}"
                                domain="[]" name="1271" string="QCM" view_mode="graph" modifiers="{}"/>
                        <action context="{'lang': 'fr_FR', 'tz': 'Europe/Paris', 'uid': 2, 'group_by': ['module_id'], 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['module_id'], 'dashboard_merge_domains_contexts': False}"
                                domain="['&amp;', ['date_exam', '&gt;', '2023-01-01'], ['company_id', 'ilike', 'DIGIMOOV']]"
                                name="1271" string="Pack" view_mode="graph" modifiers="{}"/>
                        <action context="{'lang': 'fr_FR', 'tz': 'Europe/Paris', 'uid': 2, 'group_by': [], 'orderedBy': [], 'dashboard_merge_domains_contexts': False}"
                                domain="[]" name="1760" string="Taux de Présence Par Pack" view_mode="list"
                                modifiers="{}"/>
                    </column>
                    <column>
                        <action context="{'lang': 'fr_FR', 'tz': 'Europe/Paris', 'uid': 2, 'group_by': ['date_exam:quarter', 'nombre_de_passage'], 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['date_exam:quarter', 'nombre_de_passage'], 'dashboard_merge_domains_contexts': False}"
                                domain="['&amp;', ['date_exam', '&gt;', '2023-01-01'], ['company_id', 'ilike', 'DIGIMOOV']]"
                                name="1271" string="Nombre de passage" view_mode="graph" modifiers="{}"/>
                        <action context="{'lang': 'fr_FR', 'tz': 'Europe/Paris', 'uid': 2, 'group_by': ['mode_de_financement'], 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['mode_de_financement'], 'dashboard_merge_domains_contexts': False}"
                                domain="['&amp;', ['date_exam', '&gt;', '2023-01-01'], ['company_id', 'ilike', 'DIGIMOOV']]"
                                name="1271" string="Mode de paiement" view_mode="graph" modifiers="{}"/>
                    </column>

                </board>
            </form>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_dashboard_session_statistics">
        <field name="name">Dashboard</field>
        <field name="res_model">board.board</field>
        <field name="view_mode">form</field>
        <field name="usage">menu</field>
        <field name="view_id" ref="session_dashbord_id"/>
    </record>


    <menuitem id="main_statistics_session_menu" name="Dashboard"
              parent="mcm_academy_session_root_menu"
              sequence="1"/>
    <menuitem id="main_statistics_session_examen_menu_id" name="Dashboard Examen"
              parent="main_statistics_session_menu"
              action="action_dashboard_session_statistics"
              groups="mcm_session.group_session_module_manager"/>

    <menuitem id="statistics_session_menu_id" name="Statestiques"
              parent="main_statistics_session_menu"
              action="mcm_session.action_session_statistics"
              groups="mcm_session.group_session_module_manager"/>

</odoo>
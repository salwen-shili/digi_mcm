<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.module.category" id="mcm_session.session_module_category">
        <field name="description">Helps you manage the sessions.</field>
        <field name="sequence">10</field>
        <field name="name">Session</field>
    </record>
     <!-- Creqte group Session user-->
    <record id="group_session_module_user" model="res.groups">
        <field name="name">User</field>
        <field name="category_id" ref="mcm_session.session_module_category"/>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
    </record>
     <!-- Create group Session Manager -->
    <record id="group_session_module_manager" model="res.groups">
        <field name="name">Manager</field>
        <field name="category_id" ref="mcm_session.session_module_category"/>
        <field name="implied_ids" eval="[(4, ref('mcm_session.group_session_module_user'))]"/> <!-- implicit rules and access right  of session user to manager-->
    </record>
    <!-- Create group Session Administrator -->
    <record id="group_session_module_administrator" model="res.groups">
        <field name="name">Administrator</field>
        <field name="category_id" ref="mcm_session.session_module_category"/>
        <field name="implied_ids" eval="[(4, ref('mcm_session.group_session_module_manager'))]"/> <!-- implicit rules and access right  of session manager to administrator-->
        <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
    </record>
    <data noupdate="1">
        <!-- Multi - Company Rules -->
        <record model="ir.rule" id="session_comp_rule">
            <field name="name">Session multi-company</field>
            <field name="model_id" ref="model_mcmacademy_session"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="module_comp_rule">
            <field name="name">Module multi-company</field>
            <field name="model_id" ref="model_mcmacademy_module"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="stage_comp_rule">
            <field name="name">Stage multi-company</field>
            <field name="model_id" ref="model_mcmacademy_stage"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="action_comp_rule">
            <field name="name">Action multi-company</field>
            <field name="model_id" ref="model_mcmacademy_action"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="programme_comp_rule">
            <field name="name">Programme multi-company</field>
            <field name="model_id" ref="model_mcmacademy_programme"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="programme_objectif_comp_rule">
            <field name="name">Programme objectif multi-company</field>
            <field name="model_id" ref="model_mcmacademy_programme_objectif"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="programme_clientpotentiel_comp_rule">
            <field name="name">Programme client potentiel multi-company</field>
            <field name="model_id" ref="model_mcmacademy_programme_clientpotentiel"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="module_details_comp_rule">
            <field name="name">Module details multi-company</field>
            <field name="model_id" ref="model_mcmacademy_module_details"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="programme_prerequis_comp_rule">
            <field name="name">Programme Prerequis multi-company</field>
            <field name="model_id" ref="model_mcmacademy_programme_prerequis"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="suiviexecution_comp_rule">
            <field name="name">Suivi Execution Prerequis multi-company</field>
            <field name="model_id" ref="model_mcmacademy_suiviexecution"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="ressources_comp_rule">
            <field name="name">Ressources multi-company</field>
            <field name="model_id" ref="model_mcmacademy_ressources"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
        <record model="ir.rule" id="ressources_comp_rule">
            <field name="name">Domaine de formation multi-company</field>
            <field name="model_id" ref="model_mcmacademy_domain"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
        </record>
    </data>
</odoo>
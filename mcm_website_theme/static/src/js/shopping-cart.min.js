function frame(){confetti({particleCount:2,angle:60,spread:55,origin:{x:0},colors:colors}),confetti({particleCount:2,angle:120,spread:55,origin:{x:1},colors:colors})}function onChangeCheckButton(){document.getElementById("options-date")?"all"===document.getElementById("options-date").value||"all"===document.getElementById("region_examen").value?(document.getElementById("pm_shop_checkout").setAttribute("disabled","true"),document.getElementById("pm_shop_checkout").classList.add("disabled")):"all"!==document.getElementById("options-date").value&&"all"!==document.getElementById("region_examen").value&&(document.getElementById("pm_shop_checkout").removeAttribute("disabled"),document.getElementById("pm_shop_checkout").classList.remove("disabled"),document.getElementById("error_choix_date").style.display="none"):(document.getElementById("pm_shop_checkout").setAttribute("disabled","true"),document.getElementById("pm_shop_checkout").classList.add("disabled"))}function verify_payment_method(){if(!document.getElementById("options-date"))return document.getElementById("error_choix_date_popup").style.display="inline-block";var e,t=document.getElementById("options-date").value;if("all"==t||""==t)return document.getElementById("error_choix_date_popup").style.display="inline-block";if(document.getElementById("error_choix_date_popup").style.display="none",document.getElementById("checkbox_conditions")){e=document.getElementById("checkbox_conditions");var n=document.getElementById("error_conditions");if(e&&1==e.checked?(n.style.display="none",condition=!0):(n.style.display="inline-block",condition=!1),0==condition)return}stripe_pm=document.getElementById("stripe_pm"),stripe_pm&&1==stripe_pm.checked&&(window.location.href="/shop/checkout?express=1"),pole_emploi_pm=document.getElementById("pole_emploi_pm"),pole_emploi_pm&&1==pole_emploi_pm.checked&&(window.location.href="/new/ticket/pole_emploi"),cpf_pm=document.getElementById("cpf_pm");var o=document.getElementById("state").value;if(cpf_pm&&1==cpf_pm.checked){if("Formation à distance TAXI"==cpf_pm.value){switch(!0){case o.includes("https://www.moncompteformation.gouv.fr/"):window.open(o,"_blank");break;case"accepted"==o:cpfAccepted();break;default:window.open("https://bit.ly/3GlCYMg","_blank")}return}if("Formation à distance VMDTR"==cpf_pm.value){switch(!0){case o.includes("https://www.moncompteformation.gouv.fr/"):window.open(o,"_blank");break;case"accepted"==o:cpfAccepted();break;default:window.open("https://bit.ly/3FCYXxK","_blank")}return}if("Formation à distance VTC"==cpf_pm.value){switch(!0){case o.includes("https://www.moncompteformation.gouv.fr/"):window.open(o,"_blank");break;case"accepted"==o:cpfAccepted();break;default:window.open("https://bit.ly/3452CaC","_blank")}return}}}function showPopup(){if(document.getElementById("options-date")){document.getElementById("error_no_date").style.display="none";var e=document.getElementById("options-date").value,t=!1;document.getElementById("cpf_pm")&&(t=document.getElementById("cpf_pm").checked);var n,o=document.getElementById("continueBtn");n=t?"Mobiliser mon CPF":"Passer au paiement","all"!=e&&""!=e?(document.getElementById("error_choix_date_popup").style.display="none",o.innerText=n,window.location.href="#popup1"):document.getElementById("error_choix_date").style.display="inline-block"}else document.getElementById("error_no_date").style.display="inline-block"}function closepopup(e){e?window.location.href=e:document.getElementById("popupcontent").innerHTML='\n  <p id="notifMessage">\n                            <div class="input checkbox" style="width:90%">\n                                <input type="checkbox" id="checkbox_failures" style="white-space: nowrap;" class="text-xl-left border-0" t-att-checked="website_sale_order.failures" t-att-value="website_sale_order.failures">\n                                    <label for="failures" style="display:inline">\n                                        Je souhaite accéder à la formation dès maintenant sans attendre 14 jours. Je reconnais que MCM Academy\n                                        procédera à l\'exécution immédiate de ma formation en ligne et à ce titre, je\n                            renonce expressément à exercer mon droit de rétractation conformément aux dispositions de\n                            l\'article L.221-28 1° du code de la consommation.\n                                    </label>\n                                </input>\n                            </div>\n                            <div class="input checkbox" style="margin-top: 12px;">\n                                <input type="checkbox" id="checkbox_conditions" style="white-space: nowrap;" class="text-xl-left border-0" t-att-checked="website_sale_order.conditions" t-att-value="website_sale_order.conditions">\n                                    <label for="conditions" style="display:inline">\n                                        J\'ai lu et j\'accepte les\n                                        <a href="/conditions" target="blank" style="font-weight: 600; color: #000;">\n                                            conditions générales de vente\n                                        </a>\n                                    </label>\n                                </input>\n                            </div>\n                            <p id="error_conditions" class="alert alert-warning" style="margin-left:0%;display:none;">\n                                Vous devez acceptez les conditions générales de ventes\n                            </p>\n\n                            <p id="error_choix_date_popup" class="alert alert-warning" style="margin-left:0%;display:none;">\n                                Vous devez fermer cette fenêtre et selectionner votre date d\'examen\n                            </p>\n                        </p>\n                        <style>\n                            .action-button {\n                            width: 153px;\n                            background: #262223;\n                            font-weight: bold;\n                            color: white;\n                            border: 0 none;\n                            border-radius: 0px;\n                            padding: 10px 5px;\n                            }\n\n                            .action-button:hover,\n                            .action-button:focus {\n                            background: #e6e6e6;\n                            font-weight: bold;\n                            color: black;\n                            cursor: pointer;       \n                            }\n\n                        </style>\n                        \n\n                        <div style="text-align:center">\n                            <button type="button" class="btn btn-secondary action-button shake" id="continueBtn" onclick="verify_payment_method()">Continuer</button>\n                        </div>'}function onchangeTextButton(){document.getElementById("pm_shop_checkout2")&&(document.getElementById("pm_shop_checkout2").innerText="Mobiliser mon CPF"),document.getElementById("pm_shop_checkout")&&(document.getElementById("pm_shop_checkout").innerText="Mobiliser mon CPF",displayInstalmentPayment(),displayPromo())}function onchangeTextButton1(){document.getElementById("pm_shop_checkout")&&(document.getElementById("pm_shop_checkout").innerText="Passer au paiement"),document.getElementById("pm_shop_checkout2")&&(document.getElementById("pm_shop_checkout2").innerText="Passer au paiement"),document.getElementById("cpf-details")&&(document.getElementById("cpf-details").classList.add("hide"),document.getElementById("arrow-down")&&document.getElementById("arrow-down").classList.add("hide")),displayInstalmentPayment(),displayPromo()}function renonce(){document.getElementById("popupcontent").innerHTML='                 \n                            <p id="notifMessage">\n                            <div class="input checkbox" style="width:90%">\n                                <input type="checkbox" id="checkbox_failures" style="white-space: nowrap;" class="text-xl-left border-0" t-att-checked="website_sale_order.failures" t-att-value="website_sale_order.failures">\n                                    <label for="failures" style="display:inline">\n                                        Je souhaite accéder à la formation dès maintenant sans attendre 14 jours. Je reconnais que MCM Academy\n                                        procédera à l\'exécution immédiate de ma formation en ligne et à ce titre, je\n                            renonce expressément à exercer mon droit de rétractation conformément aux dispositions de\n                            l\'article L.221-28 1° du code de la consommation.\n                                    </label>\n                                </input>\n                            </div>\n                            \n                            <p id="error_conditions" class="alert alert-warning" style="margin-left:0%;display:none;">\n                                Vous devez acceptez les conditions générales de ventes\n                            </p>\n\n                            <p id="error_choix_date_popup" class="alert alert-warning" style="margin-left:0%;display:none;">\n                                Vous devez fermer cette fenêtre et selectionner votre date d\'examen\n                            </p>\n                        </p> \n\n                            <div style="text-align:center">\n                             <button type="button" class="btn btn-secondary action-button" id="Précédent"  style="padding: 8px 29px;" onclick="cpfAccepted()">Précédent</button>\n                             <button type="button" class="btn btn-secondary action-button shake" id="continueBtn" onclick="verify_payment_method()"style="padding: 8px 29px  ;   margin-left: 11px;">Continuer</button>\n                          </div>\n         '}function show_coupon(){document.getElementById("promo_input")&&(document.getElementById("promo_input").style.display="inline"),document.getElementById("promo_button")&&(document.getElementById("promo_button").style.display="inline")}function showInstalment(){document.getElementById("order_instalment_number")&&(document.getElementById("order_instalment_number").style.visibility="unset"),document.getElementById("order_amount_to_pay")&&(document.getElementById("order_amount_to_pay").style.visibility="unset",document.getElementById("order_amount_to_pay").style.display="revert")}function hideInstalment(){document.getElementById("order_instalment_number")&&(document.getElementById("order_instalment_number").style.visibility="hidden"),document.getElementById("order_amount_to_pay")&&(document.getElementById("order_amount_to_pay").style.visibility="hidden")}function displayInstalmentPayment(){if(document.getElementById("order_instalment")){var e=document.getElementById("order_instalment");if(e.style.visibility="unset",e.style.display="revert",document.getElementById("checkbox_instalment")){var t=document.getElementById("checkbox_instalment").checked;sendHttpRequest("POST","/shop/payment/update_amount",{params:{instalment:t}}).then(e=>{}).catch(e=>{}),t?showInstalment():hideInstalment()}}}function displayPromo(){document.getElementById("stripe_pm")&&(document.getElementById("stripe_pm").checked?showPromo():hidePromo())}function showPromo(){document.getElementById("promo_code")&&document.getElementById("promo_button")&&("none"!=document.getElementById("promo_button").style.display||(document.getElementById("promo_code").style.display="unset")),document.getElementById("promo_button")&&(document.getElementById("promo_button").style.display="inline"),document.getElementById("promo_input")&&(document.getElementById("promo_input").style.display="inline")}function hidePromo(){document.getElementById("promo_code")&&(document.getElementById("promo_code").style.display="none"),document.getElementById("promo_button")&&(document.getElementById("promo_button").style.display="none"),document.getElementById("promo_input")&&(document.getElementById("promo_input").style.display="none")}document.addEventListener("DOMContentLoaded",function(){var e;if(displayInstalmentPayment(),document.getElementById("cpf_pm")&&(e=document.getElementById("cpf_pm").value),"Formation à distance VTC"===e){var t="https://www.youtube.com/embed/19BiYQVwZFs";document.getElementById("cpf_video").setAttribute("src",t)}else document.getElementById("cpf_video").setAttribute("src","https://www.youtube.com/embed/vLIr9mckz8M");onchangeTextButton1(),document.getElementById("checkbox_conditions").addEventListener("change",function(){var e=document.getElementById("checkbox_conditions").checked,t=document.getElementById("error_conditions"),n=document.getElementById("continueBtn");e?(n.removeAttribute("disabled"),n.classList.remove("disabled"),t.style.display="none",sendData(e)):(n.setAttribute("disabled","disabled"),n.classList.add("disabled"),t.style.display="inline-block",sendData(e))}),document.getElementById("promo_button")&&(document.getElementById("promo_button").style.display="inline"),document.getElementById("checkbox_instalment").addEventListener("click",function(){displayInstalmentPayment()})});const sendData=e=>{sendHttpRequest("POST","/shop/payment/update_condition",{params:{condition:e}}).then(e=>{}).catch(e=>{})};var colors=["#000000","#fdd105","#959595","#d5a376","#ff1e00"];const sendHttpRequest=(e,t,n)=>{const o=new Promise((o,d)=>{const i=new XMLHttpRequest;i.open(e,t),i.responseType="json",n&&i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onload=(()=>{i.status>=400?d(i.response):o(i.response)}),i.onerror=(()=>{d("Something went wrong!")}),i.send(JSON.stringify(n))});return o},addUserPlateform=()=>{document.getElementById("popupcontent").innerHTML='<div style="text-align: -webkit-center;"><div class="spinner"></div></div>',sendHttpRequest("POST","/shop/adduser_plateform",{}).then(e=>{if(e.result.url){if(e.result.url.includes("https://")){for(let e=0;e<200;e++)frame();document.getElementById("popupcontent").innerHTML=`\n                            <p style="margin-top: 12px; text-align: center;">                              \n                                 ${e.result.ajout}\n                                 <br/>\n                                </p>\n                         <div style="text-align:center">\n                            <a onclick='window.open("${e.result.url}");return false;'> <button type="button" class="btn btn-secondary action-button shake" style="padding: 6px 34px;"> Continuer </button></a>\n                        </div>     \n         `}}else e.result.ajout&&(e.result.url&&(document.getElementById("popupcontent").innerHTML=`\n                            <p  style="margin-top: 12px;text-align: justify;">                              \n                                 ${e.result.ajout}     \n                            </p>\n                            <div style="text-align:center">\n                                <a href="#"> <button type="button" class="btn btn-secondary action-button" onclick="closepopup()"  style="padding: 8px 29px;" > Fermer </button></a>\n\n                            </div>\n         `),document.getElementById("popupcontent").innerHTML=`\n                            <p style="margin-top: 12px;text-align: justify;">                              \n                                 ${e.result.ajout}     \n                            </p>\n                            <div style="text-align:center">\n                                <a href="#"> <button type="button" class="btn btn-secondary action-button"  onclick="closepopup()" style="padding: 8px 29px;" > Fermer </button></a>\n                            </div>\n         `),e.result.ajout&&"Vous avez choisi de préserver votre droit de rétractation sous un délai de 14 jours. Si vous souhaitez renoncer à ce droit et commencer votre formation dés maintenant, veuillez cliquer sur continuer."==e.result.ajout&&(document.getElementById("popupcontent").innerHTML=`\n                            <p style="margin-top: 12px;text-align: justify;">                              \n                                 ${e.result.ajout}     \n                            </p>\n                            <div style="text-align:center">\n                              <button type="button" class="btn btn-secondary action-button" id="non_renonce" style="padding: 7.5px 38.5px;" onclick="closepopup('/my/home')">Attendre 14 jours</button>\n                                <button type="button" class="btn btn-secondary action-button shake" style="padding: 7.5px 38.5px;" onclick="renonce()" > Continuer </button>\n                            </div>\n\n         `)})},cpfAccepted=()=>{sendHttpRequest("POST","/shop/cpf_accepted",{}).then(e=>{e.result.state&&addUserPlateform()}).catch(e=>{console.log(e)})};
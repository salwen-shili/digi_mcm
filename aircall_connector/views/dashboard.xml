<?xml version="1.0" encoding="utf-8" ?>

<odoo>


    <record model="ir.actions.act_window" id="aircall_app_graph">
        <field name="name">AirCAll</field>
        <field name="res_model">call.detail</field>
        <field name="view_mode">graph</field>
        <field name="view_id" ref="aircall_app_graph_view"/>
    </record>
    <record model="ir.actions.act_window" id="aircall_app_graph_soc">
        <field name="name">AirCAll</field>
        <field name="res_model">call.detail</field>
        <field name="view_mode">graph</field>
        <field name="view_id" ref="aircall_app_graph_view"/>
    </record>
    <record model="ir.actions.act_window" id="aircall_trimestre_app_graph">
        <field name="name">AirCAll</field>
        <field name="res_model">call.detail</field>
        <field name="view_mode">graph</field>
        <field name="view_id" ref="aircall_app_graph_view"/>
    </record>
    <record model="ir.actions.act_window" id="aircall_app_graph_calls">
        <field name="name">AirCAll</field>
        <field name="res_model">call.detail</field>
        <field name="view_mode">graph</field>
        <field name="view_id" ref="aircall_app_graph_view"/>
    </record>
    <record model="ir.actions.act_window" id="aircall_app_graph_calls_personne">
        <field name="name">AirCAll</field>
        <field name="res_model">call.detail</field>
        <field name="view_mode">graph</field>
        <field name="view_id" ref="aircall_app_graph_view"/>
    </record>
    <record model="ir.actions.act_window" id="aircall_duration">
        <field name="name">AirCAll</field>
        <field name="res_model">call.detail</field>
        <field name="view_mode">graph</field>
        <field name="view_id" ref="aircall_app_graph_view"/>
    </record>
    <!--My Dashboard-->
    <!--Ajouter Domaine dans les dashbord -->
    <record model="ir.ui.view" id="aircall_dashbord">
        <field name="name">My Dashboard</field>
        <field name="model">board.board</field>
        <field name="arch" type="xml">
            <form string="My Dashboard">
                <board style="1-1">
                    <column>
                        <action context="{'lang': 'fr_FR', 'tz': False, 'uid': 1, 'group_by': ['owner', 'call_direction', 'call_date:month'], 'graph_measure': 'call_duration', 'graph_mode': 'line', 'graph_groupbys': ['owner', 'call_direction', 'call_date:month'], 'dashboard_merge_domains_contexts': False}"
                                domain="[['call_date', '&gt;', '2022-12-31 23:00:00']]"
                                name="%(aircall_app_graph_calls)d" string="Call Duration/Personne  (Mois)"
                                view_mode="graph" modifiers="{}" id="action_0_4"/>

                         <action context="{'lang': 'fr_FR', 'tz': False, 'uid': 1, 'group_by': ['owner', 'call_direction'], 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['owner', 'call_direction'], 'dashboard_merge_domains_contexts': False}" domain="['&amp;', '|', '|', ['owner', 'ilike', 'nada'], ['owner', 'ilike', 'nour'], ['owner', 'ilike', 'kawther'], ['call_date', '&gt;', '2022-12-31 23:00:00']]" name="%(aircall_duration)d"  string="Service Client - comptage" view_mode="graph" modifiers="{}"/>

                        <action context="{'lang': 'fr_FR', 'tz': False, 'uid': 1, 'group_by': ['company_name', 'owner', 'call_direction', 'call_date:quarter'], 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['company_name', 'owner', 'call_direction', 'call_date:quarter'], 'dashboard_merge_domains_contexts': False}"
                                domain="['&amp;', '|', ['company_name', 'ilike', 'Administration'], ['company_name', 'ilike', 'Examen'], ['call_date', '&gt;', '2022-12-31 23:00:00']]"
                                name="%(aircall_app_graph_calls_personne)d"
                                string="Call Direction/ Service Examen-Administration" view_mode="graph"
                                modifiers="{}"/>


                    </column>
                    <column>
                        <action context="{'lang': 'fr_FR', 'tz': False, 'uid': 1, 'group_by': ['owner', 'call_direction'], 'graph_measure': 'call_duration', 'graph_mode': 'bar', 'graph_groupbys': ['owner', 'call_direction'], 'dashboard_merge_domains_contexts': False}"
                                domain="['&amp;', '|', '|', ['owner', 'ilike', 'kawther'], ['owner', 'ilike', 'nour'], ['owner', 'ilike', 'nada'], ['call_date', '&gt;', '2022-12-31 23:00:00']]"
                                name="%(aircall_trimestre_app_graph)d" string="Service Client - Call Duration"
                                view_mode="graph" modifiers="{}"/>

                        <action context="{'lang': 'fr_FR', 'tz': False, 'uid': 1, 'group_by': ['call_direction', 'company_id', 'call_date:year'], 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['call_direction', 'company_id', 'call_date:year'], 'dashboard_merge_domains_contexts': False}"
                                domain="[['call_date', '&gt;', '2022-12-31 23:00:00']]" name="%(aircall_app_graph_soc)d"
                                string="Company/ call direction (2023)" view_mode="graph" modifiers="{}"/>


                        <action context="{'lang': 'fr_FR', 'tz': 'Europe/Paris', 'uid': 2, 'group_by': ['call_direction', 'company_name'], 'graph_measure': '__count__', 'graph_mode': 'bar', 'graph_groupbys': ['call_direction', 'company_name'], 'dashboard_merge_domains_contexts': False}"
                                domain="['&amp;', ['call_direction', 'ilike', 'inbound'], ['call_date', '&gt;', '2022-12-31 23:00:00']]"
                                name="%(aircall_app_graph)d" string="Inbound Call" view_mode="graph" modifiers="{}"/>

                    </column>
                </board>
            </form>
        </field>
    </record>

    <record model="ir.actions.act_window" id="aircall_dashbord_action">
        <field name="name">My Dashboard</field>
        <field name="res_model">board.board</field>
        <field name="view_mode">form</field>
        <field name="usage">menu</field>
        <field name="view_id" ref="aircall_dashbord"/>
    </record>

    <menuitem id="main_aircall_dashbord" name="Dashbord" parent="aircall_menu"
              action="aircall_dashbord_action"
              sequence="1"/>

</odoo>
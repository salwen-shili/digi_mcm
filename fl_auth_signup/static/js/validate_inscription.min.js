function checkStrength(e){let r=0;e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)?(r+=1,lowUpperCase.classList.remove("fa-check"),lowUpperCase.classList.add("fa-check")):(lowUpperCase.classList.add("fa-check"),lowUpperCase.classList.remove("fa-check")),e.match(/([0-9])/)?(r+=1,number.classList.add("fa-check")):number.classList.remove("fa-check"),e.match(/([!,%,&,@,#,$,^,*,?,_,~])/)?(r+=1,specialChar.classList.add("fa-check")):specialChar.classList.remove("fa-check"),e.length>5?(r+=1,eightChar.classList.add("fa-check")):eightChar.classList.remove("fa-check"),0==r&&(passwordStrength.classList.remove("progress-bar-warning"),passwordStrength.classList.remove("progress-bar-success"),passwordStrength.classList.remove("progress-bar-danger"),nivLevel.classList.remove("niv-level-1"),nivLevel.classList.remove("niv-level-2"),nivLevel.classList.remove("niv-level-3"),nivLevel.classList.add("niv-level-1")),1==r?(passwordStrength.classList.remove("progress-bar-warning"),passwordStrength.classList.remove("progress-bar-success"),passwordStrength.classList.add("progress-bar-danger"),passwordStrength.style="width: 25%",nivLevel.innerHTML="faible",nivLevel.classList.add("niv-level-1"),nivLevel.classList.remove("niv-level-3"),nivLevel.classList.remove("niv-level-2")):2==r?(passwordStrength.classList.remove("progress-bar-warning"),passwordStrength.classList.remove("progress-bar-success"),passwordStrength.classList.add("progress-bar-danger"),passwordStrength.style="width: 50%",nivLevel.innerHTML="faible",nivLevel.classList.remove("niv-level-2"),nivLevel.classList.remove("niv-level-3"),nivLevel.classList.add("niv-level-1")):3==r?(passwordStrength.classList.remove("progress-bar-success"),passwordStrength.classList.remove("progress-bar-danger"),passwordStrength.classList.add("progress-bar-warning"),passwordStrength.style="width: 75%",nivLevel.innerHTML="moyenne",nivLevel.classList.add("niv-level-2"),nivLevel.classList.remove("niv-level-1"),nivLevel.classList.remove("niv-level-3")):4==r&&(passwordStrength.classList.remove("progress-bar-warning"),passwordStrength.classList.remove("progress-bar-danger"),passwordStrength.classList.add("progress-bar-success"),passwordStrength.style="width: 100%",nivLevel.innerHTML="optimale",nivLevel.classList.add("niv-level-3"),nivLevel.classList.remove("niv-level-1"),nivLevel.classList.remove("niv-level-2"))}function hidePasswordPopover(){const e=$("#password").val();e.length>5&&document.getElementById("popover-password").classList.add("hide")}function showPasswordPopover(){document.getElementById("popover-password").classList.remove("hide")}$(document).ready(function(){function e(e,r){if(r.length>0){const s=/^[A-Z,a-z,À-ÿ '-]{2,}$/;return!r.match(s)&&`Votre ${e} doit contenir des lettres seulement!`}return"Ce champs est obligatoire!"}function r(e,r){if(r.length>0){const e=/^(07|06)[0-9]\d{7}$/;return!r.match(e)&&"Votre numéro de téléphone doit commencer par 06 ou 07 suivie par 8 chiffres"}return"Ce champs est obligatoire!"}function s(e,r){const s=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;e.length>0?e.match(s)?($("#email_container ").removeClass("error-input-field"),$("#email_helper ").append("")):($("#email_container ").addClass("error-input-field"),$("#email_helper span ").text("Votre email est incorrecte!")):($("#email_container ").addClass("error-input-field"),$("#email_helper span ").text("Ce champs est obligatoire!")),r.length>0?r.match(s)?($("#confirm_email_container ").removeClass("error-input-field"),$("#confirm_email_helper ").append("")):($("#confirm_email_container ").addClass("error-input-field"),$("#confirm_email_helper span ").text("Votre email est incorrecte!")):($("#confirm_email_container ").addClass("error-input-field"),$("#confirm_email_helper span ").text("Ce champs est obligatoire!")),e.length>0&&r.length>0&&(e===r?r.match(s)&&($("#email_container ").removeClass("error-input-field"),$("#email_helper ").append(""),$("#confirm_email_container ").removeClass("error-input-field"),$("#confirm_email_helper ").append("")):($("#confirm_email_container ").addClass("error-input-field"),$("#confirm_email_helper span ").text("L'email ne correspond pas au champs precedent! Veuillez confirmer votre email.")))}function a(e){return e.length>0?e.length<6&&"Votre mot de passe doit contenir au minimum 6 caractères":"Ce champs est obligatoire!"}function t(e){const r=Object.keys(e).map((r,s)=>e[r]);for(let e=0;e<r.length;e++)if(!1===r[e])return!1;return!0}$(".progress-bar").css("width","25%");var i={firstname_valid:!1,lastname_valid:!1,phone_valid:!1,email:!1,confirmemail_valid:!1,password_valid:!1};document.getElementById("inscrire");$("#lastname").keyup(function(r){const s=$("#lastname").val(),a=e("nom",s);!1===a?(i.lastname_valid=!0,t(i),$("#lastname_container ").removeClass("error-input-field"),$("#lastname_helper ").append("")):(i.lastname_valid=!1,$("#lastname_container ").addClass("error-input-field"),$("#lastname_helper span ").text(a))}),$("#firstname").keyup(function(r){const s=$("#firstname").val(),a=e("prenom",s);!1===a?(i.firstname_valid=!0,t(i),$("#firstname_container ").removeClass("error-input-field"),$("#firstname_helper ").append("")):(i.firstname_valid=!1,$("#firstname_container ").addClass("error-input-field"),$("#firstname_helper span ").text(a))}),$("#phone").keyup(function(e){const s=$("#phone").val(),a=r("numero de téléphone",s);!1===a?(i.phone_valid=!0,t(i),$("#phone_container ").removeClass("error-input-field"),$("#phone_helper ").append("")):(i.phone_valid=!1,$("#phone_container ").addClass("error-input-field"),$("#phone_helper span ").text(a))}),$("#email").keyup(function(e){const r=$("#email").val(),a=$("#confirm_email").val();s(r,a)}),$("#confirm_email").keyup(function(e){const r=$("#email").val(),a=$("#confirm_email").val();s(r,a)}),$("#password").keyup(function(e){showPasswordPopover();const r=$("#password").val(),s=a(r);!1===s?(i.password_valid=!0,t(i),$("#password_container ").removeClass("error-input-field"),$("#password_helper ").append("")):(i.password_valid=!1,$("#password_container ").addClass("error-input-field"),$("#password_helper span ").text(s)),checkStrength(r)});const n="https://geo.api.gouv.fr/communes?codePostal=",o="&format=json";let l=!1,c=$("#zipcode"),d=$("#city"),p=$("#voie"),m=($("#voie"),$("#nom_voie"),$("#introuvable"));$(m).click(function(){l=!l,l&&($("#nom_voie_container").html('<input type="text" name="nom_voie" id="nom_voie" class="outlined-text-field"  value="" required="required" inputmode="latin" autocomplete="off"  />\n                      <label for="nom_voie">Nom de voie *</label>\n                      <i class="material-icons error-icon">error_outline</i>\n                      <div class="helper-text bg-c " id="nom_voie_helper">\n                        <span></span>\n                      </div>'),$("#voie_container").html(' <input type="text" id="voie" class="outlined-text-field" value="" required="required" autocomplete="off" inputmode="latin"  />\n                      <label for="voie">Type de voie *</label>\n                      <i class="material-icons error-icon">error_outline</i>\n                      <div class="helper-text bg-c " id="voie_helper">\n                        <span></span>\n                      </div> '));const e=["lastname","firstname","phone","address","email","confirm_email","password","zipcode","city","voie","voie_input","nom_voie","num_voie","comp_address"];e.map(e=>{$(`#${e}`).focusin(function(){$(`#${e} ~ label`).animate({fontSize:"0.8rem",top:"-0.7rem",padding:"0.25rem"},80)}),$(`#${e}`).focusout(function(){""===$(this).val()&&$(`#${e} ~ label`).animate({fontSize:"1rem",top:"1rem",padding:0},80)})})}),$(c).on("blur",function(){var e=$(this).val();let r=n+e+o;fetch(r,{method:"get"}).then(e=>e.json()).then(e=>{$(d).find("option").remove(),e.length?($("#city_container ").removeClass("error-input-field"),$("#city ").removeClass("error-input-field"),$("#city_helper ").append(""),$("#city_container").removeAttr("aria-disabled"),$(d).removeAttr("disabled"),$(p).removeAttr("disabled"),$(d).focus(),$.each(e,function(e,r){$(d).removeAttr("disbaled"),$(d).append('<option value="'+r.nom+'">'+r.nom+"</option>")})):$(c).val()?($("#city_container").attr('aria-disabled="true"'),$(d).attr('disbaled="disabled"'),$(voie_container).attr('disbaled="disabled"'),$(p).attr('disbaled="disabled"'),$("#city_container ").addClass("error-input-field"),$("#city ").addClass("error-input-field"),$("#city_helper span").text("Aucune commmune avec ce code postal.")):($("#city_container ").removeClass("error-input-field"),$("#city ").removeClass("error-input-field"),$("#city_helper ").append(""),$("#city_container").removeAttr('aria-disabled="true"'),$(d).removeAttr('disbaled="disabled"'),$(voie_container).removeAttr('disbaled="disabled"'),$(p).removeAttr('disbaled="disabled"'))}).catch(e=>{$(d).find("option").remove()})}),$("#first_form").submit(function(e){const r=document.querySelector(".error-input-field");null==r||e.preventDefault()})});let state=!1,password=document.getElementById("password"),passwordStrength=document.getElementById("password-strength"),lowUpperCase=document.querySelector(".low-upper-case i"),number=document.querySelector(".one-number i"),specialChar=document.querySelector(".one-special-char i"),eightChar=document.querySelector(".eight-character i"),nivLevel=document.querySelector(".nivLevel");
<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
           <record id="inherit_view_crm_case_leads_filter" model="ir.ui.view">
            <field name="name">crm.lead.search</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.view_crm_case_opportunities_filter"/>
            <field name="arch" type="xml">
             <xpath expr="//filter[@name='assigned_to_me']" position="replace"/>
            </field>
       </record>

<!--héritage  Vue kanban -->
  <record id="marketing_automation_view_crm_lead_kanban" model="ir.ui.view">
<!--        <input value="test"></input>-->
        <field name="name">crm.lead.kanban</field>

        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
        <field name="arch" type="xml">
              <xpath expr="//kanban" position="inside">
                <field name="name" />
              </xpath>

<!--              <xpath expr="//div[hasclass('o_kanban_group ui-sortable')]" position="replace">-->
<!--                <div class="o_kanban_header"-->
<!--                     t-if="record.stage_id.bolt.raw_value != false and record.partner_id.raw_value != false" style=" display: none;">-->
<!--                </div>-->
<!--              </xpath>-->
             <xpath expr="//kanban/progressbar[@field='activity_state']" position="replace">
             </xpath>
            <xpath expr="//div[hasclass('oe_kanban_content')]" position="replace">
                <div class="oe_kanban_color_0 oe_kanban_global_click o_kanban_record oe_kanban_card"
                     t-if="record.mode_de_financement.raw_value!='particulier' and record.partner_id.raw_value != false" style=" background-color: #FBEDC9;">
                    <div class="oe_kanban_content ">
                        <div>
                            <strong class="o_kanban_record_title" style="font-weight: bold; font-size:17px; color:#00A09D;">
                                <field name="name"/>
                            </strong>
                        </div>
                        <div>
                            <strong class="o_kanban_record_title" style="font-weight: bold;">
                                <field name="mode_de_financement"></field>
                            </strong>
                        </div>
                         <div>
                            <strong class="o_kanban_record_title" style="font-weight: bold;">
                                <field name="module_id"></field>
                            </strong>
                        </div>
                         <div>-</div>
                        <div>
                             <i class="fa fa-address-book-o" attrs="{'invisible': [('num_dossier', '=', '')]}">
                            </i>
                            <field name="num_dossier" attrs="{'invisible': [('num_dossier', '=', '')]}"/>
                        </div>
                        <div>
                            <i   class="fa fa-phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"> </i>
                            <field name="partner_address_phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"/>
                        </div>
                        <div>
                            <i class="fa fa-envelope" attrs="{'invisible': [('email_from', '=',False)]}"> </i>
                            <field name="email_from" attrs="{'invisible': [('email_from', '=',False)]}"/>
                        </div>
                        <div class="o_kanban_record_bottom">
                         <div>
                         <field name="description"  attrs="{'invisible': [('description', '=',False),('stage_id','!=','Non Traité')]}"/>
                         </div>
                        </div>
                    </div>
                </div>
                <div class="oe_kanban_color_0 oe_kanban_global_click o_kanban_record oe_kanban_card"
                     t-if="record.mode_de_financement.raw_value=='particulier' and record.partner_id.raw_value != false" style="background-color: #D2E9E1;">
                    <div class="oe_kanban_content ">
                        <div>
                            <strong class="o_kanban_record_title" style="font-weight: bold; font-size:17px; color:#00A09D;">
                                <field name="name"/>
                            </strong>
                        </div>
                        <div>
                             <strong class="o_kanban_record_title" style="font-weight: bold;">
                             <field name="mode_de_financement"></field>
                            </strong>
                        </div>
                        <div>-</div>
                        <div>
                             <i class="fa fa-address-book-o" attrs="{'invisible': [('num_dossier', '=', '')]}">
                            </i>
                            <field name="num_dossier" attrs="{'invisible': [('num_dossier', '=', '')]}"/>
                        </div>
                        <div>
                            <i   class="fa fa-phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"> </i>
                            <field name="partner_address_phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"/>
                        </div>
                        <div>
                            <i class="fa fa-envelope" attrs="{'invisible': [('email_from', '=',False)]}"> </i>
                            <field name="email_from" attrs="{'invisible': [('email_from', '=',False)]}"/>
                        </div>
                        <div class="o_kanban_record_bottom">
                         <div>
                             <field name="description"  attrs="{'invisible': [('description', '=',False),('stage_id','!=','Non Traité')]}"/>
                         </div>
                        </div>
                    </div>
                </div>
                <div class="oe_kanban_color_0 oe_kanban_global_click o_kanban_record oe_kanban_card"
                     t-if="record.mode_de_financement.raw_value=='particulier' and record.partner_id.raw_value === false" style="background-color: #FFA873;">
                    <div class="oe_kanban_content ">
                        <div>
                            <strong class="o_kanban_record_title" style="font-weight: bold; font-size:17px;">
                             <field name="name"/>  <field name="contact_name"></field>
                            </strong>
                        </div>
                        <div>
                             <strong class="o_kanban_record_title" style="font-weight: bold;">
                             <field name="mode_de_financement"></field>
                            </strong>
                        </div>
                        <div>-</div>
                        <div>
                             <i class="fa fa-address-book-o" attrs="{'invisible': [('num_dossier', '=', '')]}">
                            </i>
                            <field name="num_dossier" attrs="{'invisible': [('num_dossier', '=', '')]}"/>
                        </div>
                        <div>
                            <i   class="fa fa-phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"> </i>
                            <field name="partner_address_phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"/>
                        </div>
                        <div>
                            <i class="fa fa-envelope" attrs="{'invisible': [('email_from', '=',False)]}"> </i>
                            <field name="email_from" attrs="{'invisible': [('email_from', '=',False)]}"/>
                        </div>
                        <div class="o_kanban_record_bottom">
                         <div>
                             <field name="description"  attrs="{'invisible': [('description', '=',False),('stage_id','!=','Non Traité')]}"/>
                         </div>
                        </div>
                    </div>
                </div>
    <div class="oe_kanban_color_0 oe_kanban_global_click o_kanban_record oe_kanban_card"
                     t-if="record.mode_de_financement.raw_value!='particulier' and record.partner_id.raw_value === false" style="background-color: #FFA873;">
                    <div class="oe_kanban_content ">
                        <div>
                            <strong class="o_kanban_record_title" style="font-weight: bold; font-size:17px;">
                              <field name="name"/>  <field name="contact_name"></field>
                            </strong>
                        </div>
                        <div>
                             <strong class="o_kanban_record_title" style="font-weight: bold;">
                             <field name="mode_de_financement"></field>
                            </strong>
                        </div>
                        <div>-</div>
                        <div>
                             <i class="fa fa-address-book-o" attrs="{'invisible': [('num_dossier', '=', '')]}">
                            </i>
                            <field name="num_dossier" attrs="{'invisible': [('num_dossier', '=', '')]}"/>
                        </div>
                        <div>
                            <i   class="fa fa-phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"> </i>
                            <field name="partner_address_phone" attrs="{'invisible': [('partner_address_phone', '=',False)]}"/>
                        </div>
                        <div>
                            <i class="fa fa-envelope" attrs="{'invisible': [('email_from', '=',False)]}"> </i>
                            <field name="email_from" attrs="{'invisible': [('email_from', '=',False)]}"/>
                        </div>
                        <div class="o_kanban_record_bottom">
                         <div>
                             <field name="description"  attrs="{'invisible': [('description', '=',False),('stage_id','!=','Non Traité')]}"/>
                         </div>
                        </div>
                    </div>
                </div>
            </xpath>
        </field>
    </record>
   <!--héritage  Vue formulaire -->
    <record id="crm_lead_marketing_view_form" model="ir.ui.view">
        <field name="name">crm.lead.form</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header/button[@name='action_set_won_rainbowman']" position="replace"/>
            <xpath expr="//header/button[@name='426']" position="replace"/>
            <xpath expr="//header/button[@name='427']" position="replace"/>
            <xpath expr="//header/button[@name='toggle_active']" position="replace"/>
            <xpath expr="//group//group[5]" position="replace">
                <group>
                    <field name="team_id" invisible="1"></field>
                    <field name="user_id" invisible="1"></field>
                </group>
                </xpath>
          <xpath expr="//div[2]/h2[@class='o_row row no-gutters d-flex']/div[2]/div[@id='probability']/span[@class='oe_grey']" position="replace">
              </xpath>
           <xpath expr="//div[1]/div[@class='o_row']/span[@class='oe_grey p-2']" position="replace">
              </xpath>
            <xpath expr="//group//group[2]/field[@name='partner_address_phone']" position="after">
               <field name="num_dossier"></field>
                <field name="module_id"></field>
            </xpath>
             <xpath expr="//group//group[4]" position="replace">
            </xpath>
            <xpath expr="//field[@name='name']" position="replace">
            <div>
            <field name="nom" style="margin-right:10px;"></field>
            <field name="prenom" style="margin-right:16px;"></field>
                </div>
                <field name="contact_name" attrs="{'invisible': [('partner_id', '!=', False)]}"></field>
            </xpath>
            <xpath expr="//field[@name='planned_revenue']" position="replace">
            </xpath>
            <xpath expr="//field[@name='probability']" position="replace"></xpath>
        </field>
    </record>
     <record id="crm_lead_marketing_view_tree" model="ir.ui.view">
        <field name="name">crm.lead.tree</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
       <field name="arch" type="xml">
           <xpath expr="//field[@name='name']" position="replace">
<!--               <field name="nom" ></field>-->
<!--                <field name="prenom"></field>-->
               <field name="email_from"></field>
           </xpath>
           <xpath expr="//field[@name='country_id']" position="replace">
               <field name="num_tel" ></field>

           </xpath>
           <xpath expr="//field[@name='partner_id']" position="replace"></xpath>
           <xpath expr="//field[@name='activity_date_deadline']" position="attributes">
                            <attribute name="optional">hide</attribute>
           </xpath>
           <xpath expr="//field[@name='activity_summary']" position="attributes">
                       <attribute name="optional">hide</attribute>
           </xpath>
           <xpath expr="//field[@name='team_id']" position="replace"></xpath>



       </field>
    </record>
<!-- <record id="crm_lead_marketing_view_tree_inherit" model="ir.ui.view">-->
<!--        <field name="name">crm.lead.opportunity</field>-->
<!--        <field name="model">crm.lead</field>-->
<!--        <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>-->
<!--        <field name="arch" type="xml">-->
<!--              <xpath expr="//field[@name='planned_revenue']" position="replace">-->
<!--              <field name="num_dossier"></field>-->
<!--              </xpath>-->
<!--                <xpath expr="//field[@name='probability']" position="replace">-->
<!--                <field name="module_id"></field>-->
<!--              </xpath>-->
<!--        </field>-->
<!--  </record>-->
</odoo>
